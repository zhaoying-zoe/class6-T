<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>028-Promise的使用.html</title>
</head>
<body>
	
</body>
<script type="text/javascript">
	// 1.Promise构造函数接收一个函数作为参数,该函数的两个参数分别是resolve和reject
	// 2.resolve函数在异步操作成功时(从pending变为fulfilled)调用,并将异步操作的结果作为参数传递出去
	// 3.reject在异步操作失败时(从pending变为rejected)调用,并将异步操作报出的错误作为参数传递出去
	

	let promise = new Promise((resolve, reject)=>{
	    // console.log("1"); // Promise 新建后就会立即执行
	    setTimeout(()=>{
	    	// 1.Promise对象的状态改变，只有两种可能
			// 2.从pending变为fulfilled
			// 3.从pending变为rejected
			// 4.只有异步操作的结果,可以决定当前是哪一种状态,任何其他操作都无法改变这个状态
	    	// console.log(2);
		    // resolve('get data ok!');
		    reject('get err');
	    },200)
	});
	// console.log("4");
	console.log(promise);

	// 4.Promise实例生成以后,可以用then方法分别指定resolved状态和rejected状态的回调函数,rejected状态的回调函数可以省略
	promise
	.then((data)=>{// 成功情况下的回调函数
		console.log(data);
		console.log(promise);
	},(err)=>{// 失败情况下的回调函数
		console.log(err);
	})
</script>
</html>