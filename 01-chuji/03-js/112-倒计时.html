<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>112-倒计时.html</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		body{
			background: #000;
		}
		#timer{
			text-align: center;
			margin-top: 300px;
			color: #fff;
			font-size: 60px;
		}
	</style>
</head>
<body>
	<div id="timer">
		
	</div>
</body>
<script type="text/javascript">
	// 1.获取目标时间
	// 2.获取目标时间和当前时间的差
	// 3.将差转换成时分秒的形式并插入页面
	// 4.自己动态改变时间
	// 5.时间到了怎么办(通过if判断)
	// 6.if时间到了把计时器停止,并且让目标时间归为0
	function toStr(attr){//判断时间如果是个位数,就在前面加0
		if(attr<10){
			return '0'+attr;
		}else{
			return ''+attr;
		}
	}
	var endTimer;
	var oTimer = document.getElementById('timer');//获取div元素
	var oDate = new Date('2019/12/01 12:00:0').getTime();//定义目标时间
	function getTime(){//定义函数(0)
		var oToday = Date.now();//定义当前时间
		var oOtime = parseInt((oDate - oToday)/1000);//目标时间和当前时间的差(把毫秒转换成秒数并转换成整数秒)
		if(oOtime<=0){
			oOtime = 0;//当目标时间小于0时,把目标时间变成0,防止显示负数
			clearInterval(endTimer);//关闭计时器
		}
		// console.log(oToday);
		// console.log(oDate);
		console.log(oOtime);//检查时间差
		var iHour = parseInt(oOtime/3600);//把毫秒数转换成小时
		var iMinute = parseInt((oOtime%3600)/60);//把毫秒数转换成分钟
		var iSecond = parseInt((oOtime%3600)%60);//把毫秒数转换成秒数
		oTimer.innerHTML = '距离结束还有'+toStr(iHour)+'时'+toStr(iMinute)+'分'+toStr(iSecond)+'秒';//改变div的内容
	}
	endTimer = setInterval(getTime,1000)//开启定时器,给定时器加endTimer
	getTime();//调用函数(0)
</script>
</html>